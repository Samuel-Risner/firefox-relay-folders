(()=>{"use strict";const e={tags:{start:"(",end:")",separator:";"},folder:{start:"[",end:"]",separator:";"}};function t(t){if(!t.includes(e.tags.start))return[];let n=t.split(e.tags.start);if(2!==n.length)return[];let s=n[1].split(e.tags.end);return 2!==s.length?[]:s[0].split(e.tags.separator)}function n(t){if(!t.includes(e.folder.start))return[];let n=t.split(e.folder.start);if(2!==n.length)return[];let s=n[1].split(e.folder.end);return 2!==s.length?[]:s[0].split(e.folder.separator)}function s(e){const s=e.children[0],r=s.children[0],o=r.children[0],l=r.children[1],i=o.children[0].children[0].children[0];return{inputValue:i.value,inputElement:i,expandArrow:l,firstDiv:s,container:r,element:e,tags:t(i.value),folder:n(i.value)}}function r(e){e.element.remove(),e.expandArrow.remove();const t=document.createElement("button");e.container.appendChild(t),t.textContent="⚙",t.className="active:animate-spin",t.onclick=()=>{n.hidden=!n.hidden};const n=document.createElement("div");return n.hidden=!0,n.textContent="test",e.firstDiv.appendChild(n),e.container.appendChild(e.expandArrow),e}class o{listParent;entries;folder;constructor(e,t){this.listParent=e,this.entries=t,this.folder={entries:[],subFolders:new Map},this.sortEntries();for(const e of this.folder.subFolders)this.addFolders(e[1],e[0],this.listParent);for(const e of this.folder.entries)this.listParent.appendChild(e.element)}sortEntries(){for(const e of this.entries){if(0==e.folder.length){this.folder.entries.push(e);continue}let t=this.folder;for(const n of e.folder){const s=t.subFolders.get(n);if(void 0!==s)s.entries.push(e),t=s;else{const s={entries:[e],subFolders:new Map};t.subFolders.set(n,s),t=s}}}}addFolders(e,t,n){const s=document.createElement("li");n.appendChild(s),s.className="pt-6";const r=document.createElement("div");s.appendChild(r);const o=document.createElement("div");r.appendChild(o),o.className="p-2 flex flex-row";const l=document.createElement("button");o.appendChild(l),l.textContent="➕",l.onclick=()=>{d.hidden=!d.hidden,l.textContent=d.hidden?"➕":"➖"},l.className="w-6";const i=document.createElement("div");o.appendChild(i),i.textContent=t;const d=document.createElement("div");r.appendChild(d),d.hidden=!0,d.className="";const a=document.createElement("ul");d.appendChild(a),a.className="border-l-2 pl-2 ml-7";for(const t of e.entries)a.appendChild(t.element);for(const t of e.subFolders)this.addFolders(t[1],t[0],a)}}!function(){console.log("foo");const e=function(){const e=document.getElementsByTagName("ul");for(const t of e){const e=t.children,n=[];for(const t of e)"LI"===t.tagName&&t.id.endsWith("mozmail.com")&&"AliasList_alias-card-wrapper__a_ZUO"===t.className&&n.push(t);if(n.length>0)return{children:n,parent:t}}return null}();if(null===e)return;const t=[];for(const n of e.children)t.push(r(s(n)));new o(e.parent,t)}()})();